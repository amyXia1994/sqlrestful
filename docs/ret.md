# 接口返回数据格式

## 默认格式

默认情况下`SQLRestful`定义的微服务接口采用信奉封装的`JSON`数据格式返回，数据格式如下所示：

```json
{
  "code": 0, //响应代码：非0时表示不成功
  "message": "操作成功", //响应消息：非0时表示错误消息
  "data": { //`exec`返回的数据内容
    ...
  }
}
```

## 返回单数据对象

如果定义的`exec`脚本由`SQL`语言实现（默认情况），此时`exec`执行默认返回的是行数据，如果需要返回单个数据对象时在接口定义加上以下配置属性：

```hcl
result = `object`
```

## 分页数据格式

接口定义时加了`total`配置属性，则表示接口返回分页数据格式，如下所示：

```json
{
  "code": 0, //响应代码：非0时表示不成功
  "message": "操作成功", //响应消息：非0时表示错误消息
  "data": { // 分页数据对象
    "offset": 0, // 起始索引
    "total": 0, // 总记录数，由total脚本返回的数值
    "data": [...] //分页数据列表，exec执行返回的列表
  }
}
```

## 原样返回数据

如果需要原样返回脚本的数据则需要在接口定义加上以下配置：

```hcl
format = "origin"
```

## 不返回任何数据

如果需要接口不返回任何数据时，你可以在接口配置上添加'format = "nil"'，此时接口仅返回封装头：

```json
{
  "code": 0, //响应代码：非0时表示不成功
  "message": "操作成功", //响应消息：非0时表示错误消息
}
```
